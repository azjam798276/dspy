---
id: "rollout_20260102_155324_216758_golden"
generated_at: "2026-01-02T16:03:02.797115"
tags: ["shared", "auto-generated"]
---

## Problem
---
id: "20260102_launch_session"
difficulty: "medium"
tags: ["dashboard", "react", "mutation", "graphql", "modal"]
tech_stack: "React 18, TypeScript, Apollo Client"
---

# User Story
As an end user, I want to launch a new VDI session by selecting a template, so I can start a GPU-accelerated desktop.

# Context & Constraints
**GraphQL Mutation:**
```graphql
mutation CreateSession($input: VDISessionInput!) {
  createVDISession(input: $input) {
    metadata { name }
    status { phase, url }
  }
}

input VDISessionInput {
  user: String!
  template: String!
  resources: ResourceInput
}
```

**Template Query:**
```graphql
query GetTemplates {
  vditemplates {
    metadata { name }
    spec { displayName, description, image, resources { defaultGPU, defaultMemory } }
  }
}
```

**Launch Flow:**

## Solution
{
  "session_id": "9a6e7722-9f48-4502-80ad-c72dbcf31a23",
  "response": "My plan is to implement the \"Launch Session\" feature by creating a React application in the `dashboard` directory, including a `LaunchModal` component and necessary tests, as detailed in the JSON output.\n\n```json\n{\n  \"reasoning\": \"I have identified that the 'dashboard' directory is currently empty (TBD). To implement the 'Launch Session' feature, I must first establish the React application structure. \\n\\nMy plan is as follows:\\n1.  **Initialize Dashboard:** Create `dashboard/package.json` and `dashboard/tsconfig.json` to define the React/TypeScript environment with Apollo Client and Testing Library.\\n2.  **Define Types:** Create `dashboard/src/types.ts` to enforce type safety for `VDISession` and `VDITemplate` as per the GraphQL schema.\\n3.  **Implement Component:** Create `dashboard/src/components/LaunchModal.tsx`. This component will:\\n    *   Query `GetTemplates` on mount.\\n    *   Render a list of selectable templates.\\n    *   Execute `CreateSession` mutation upon user confirmation.\\n    *   Handle loading and error states for both query and mutation.\\n    *   Call `onSuccess` to trigger navigation/updates (satisfying the 'Redirect' requirement).\\n4.  **Add Testing:** Create `dashboard/test/LaunchSession.test.tsx` using `MockedProvider` to verify the integration between the UI and the GraphQL layer, ensuring the happy path works as expected.\\n\\nThis approach adheres to the 'dashboard-developer' persona constraints (React 18, TS, Apollo) and the User Story acceptance criteria.\",\n  \"code_patch\": \"diff --git a/dashboard/package.json b/dashboard/package.json\\nnew file mode 100644\\nindex 0000000..1234567\\n--- /dev/null\\n+++ b/dashboard/package.json\\n@@ -0,0 +1,29 @@\\n+{\\n+  \\\"name\\\": \\\"dashboard\\\",\\n+  \\\"version\\\": \\\"0.1.0\\\",\\n+  \\\"private\\\": true,\\n+  \\\"dependencies\\\": {\\n+    \\\"@apollo/client\\\": \\\"^3.7.0\\\",\\n+    \\\"graphql\\\": \\\"^16.6.0\\\",\\n+    \\\"react\\\": \\\"^18.2.0\\\",\\n+    \\\"react-dom\\\": \\\"^18.2.0\\\"\\n+  },\\n+  \\\"scripts\\\": {\\n+    \\\"test\\\": \\\"react-scripts test --watchAll=false\\\"\\n+  },\\n+  \\\"devDependencies\\\": {\\n+    \\\"@testing-library/react\\\": \\\"^13.4.0\\\",\\n+    \\\"@testing-library/user-event\\\": \\\"^13.5.0\\\",\\n+    \\\"@types/jest\\\": \\\"^27.5.2\\\",\\n+    \\\"@types/node\\\": \\\"^16.18.0\\\",\\n+    \\\"@types/react\\\": \\\"^18.0.0\\\",\\n+    \\\"@types/react-dom\\\": \\\"^18.0.0\\\",\\n+    \\\"react-scripts\\\": \\\"5.0.1\\\",\\n+    \\\"typescript\\\": \\\"^4.9.0\\\"\\n+  }\\n+}\\ndiff --git a/dashboard/tsconfig.json b/dashboard/tsconfig.json\\nnew file mode 100644\\nindex 0000000..2345678\\n--- /dev/null\\n+++ b/dashboard/tsconfig.json\\n@@ -0,0 +1,26 @@\\n+{\\n+  \\\"compilerOptions\\\": {\\n+    \\\"target\\\": \\\"es5\\\",\\n+    \\\"lib\\\": [\\\"dom\\\", \\\"dom.iterable\\\", \\\"esnext\\\"],\\n+    \\\"allowJs\\\": tru

## Key Techniques
- async/await
- try/catch error handling
- JWT token handling
- Input validation
